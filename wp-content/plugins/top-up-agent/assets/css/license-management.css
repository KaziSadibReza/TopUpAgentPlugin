/* Top Up Agent - License Management Styles */
/* Modern License Management Interface with Mobile Responsive Design */

/* ===== CSS CUSTOM PROPERTIES (CSS VARIABLES) ===== */
/* Centralized color system for easy theme management */
:root {
  /* === PRIMARY COLORS === */
  --primary-blue: #3b82f6;
  --primary-blue-dark: #2563eb;
  --primary-blue-darker: #1d4ed8;
  --primary-blue-darkest: #1e40af;

  /* === SECONDARY COLORS === */
  --green: #10b981;
  --green-dark: #059669;
  --green-darker: #047857;
  --green-light: #d1fae5;
  --green-text: #065f46;

  --red: #ef4444;
  --red-dark: #dc2626;
  --red-darker: #991b1b;
  --red-bright: #ff0000;
  --red-light: #fee2e2;

  --orange: #f59e0b;
  --orange-dark: #d97706;

  --purple: #8b5cf6;
  --purple-dark: #7c3aed;
  --purple-light: #ede9fe;

  /* === NEUTRAL COLORS === */
  --white: #ffffff;
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #374151;
  --gray-700: #1f2937;

  /* === BACKGROUND COLORS === */
  --bg-primary: var(--white);
  --bg-secondary: #f8fafc;
  --bg-tertiary: #f1f5f9;
  --bg-muted: var(--gray-100);
  --bg-hover: var(--gray-50);
  --bg-blue-light: #f0f9ff;
  --bg-slate-200: #cbd5e1;
  --bg-slate-400: #94a3b8;

  /* === TEXT COLORS === */
  --text-primary: var(--gray-700);
  --text-secondary: var(--gray-600);
  --text-muted: var(--gray-500);
  --text-light: var(--gray-400);
  --text-white: var(--white);

  /* === BORDER COLORS === */
  --border-primary: var(--gray-200);
  --border-secondary: var(--gray-300);
  --border-focus: var(--primary-blue);
  --border-hover: var(--primary-blue);

  /* === SHADOW COLORS === */
  --shadow-sm: rgba(0, 0, 0, 0.1);
  --shadow-md: rgba(0, 0, 0, 0.15);
  --shadow-blue: rgba(59, 130, 246, 0.2);
  --shadow-blue-md: rgba(59, 130, 246, 0.3);
  --shadow-blue-lg: rgba(59, 130, 246, 0.4);

  /* === GRADIENTS === */
  --gradient-primary: linear-gradient(
    135deg,
    var(--primary-blue),
    var(--primary-blue-dark)
  );
  --gradient-primary-hover: linear-gradient(
    135deg,
    var(--primary-blue-dark),
    var(--primary-blue-darker)
  );
  --gradient-primary-alt: linear-gradient(
    135deg,
    var(--primary-blue),
    var(--primary-blue-darker)
  );
  --gradient-primary-alt-hover: linear-gradient(
    135deg,
    var(--primary-blue-dark),
    var(--primary-blue-darkest)
  );
  --gradient-green: linear-gradient(135deg, var(--green), var(--green-dark));
  --gradient-green-hover: linear-gradient(
    135deg,
    var(--green-dark),
    var(--green-darker)
  );

  /* === SPACING (if needed for future consistency) === */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 12px;
  --space-lg: 16px;
  --space-xl: 20px;
  --space-2xl: 24px;
  --space-3xl: 32px;

  /* === BORDER RADIUS === */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;

  /* === TRANSITIONS === */
  --transition-fast: all 0.2s ease;
  --transition-medium: all 0.3s ease;
}

/*
=== CSS VARIABLES USAGE GUIDE ===

To change the theme colors, simply modify the variables in the :root section above.

Examples:
- Primary theme: Change --primary-blue, --primary-blue-dark, etc.
- Success theme: Change --green, --green-dark, etc.
- Error theme: Change --red, --red-dark, etc.
- Backgrounds: Change --bg-primary, --bg-secondary, etc.
- Text colors: Change --text-primary, --text-secondary, etc.

Common patterns:
- var(--primary-blue) for main blue color
- var(--gradient-primary) for blue gradients
- var(--text-primary) for main text
- var(--border-primary) for borders
- var(--shadow-blue) for blue shadows
- var(--radius-md) for border radius
- var(--transition-fast) for animations

This system ensures consistent theming across the entire interface.
*/

/* ===== COLLAPSIBLE SECTIONS SYSTEM ===== */
/* Toggle buttons and collapsible sections for better page organization */

/* Toggle Buttons Container */
.section-toggles {
  display: flex;
  gap: var(--space-md);
  margin: var(--space-xl) 0;
  padding: var(--space-lg);
  background: var(--bg-secondary);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-primary);
  flex-wrap: wrap;
}

.section-toggles h3 {
  width: 100%;
  margin: 0 0 var(--space-md) 0;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}

/* Toggle Button Styling */
.toggle-btn {
  padding: var(--space-md) var(--space-xl);
  background: var(--gradient-primary);
  color: var(--text-white);
  border: 2px solid transparent;
  border-radius: var(--radius-md);
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  transition: var(--transition-fast);
  box-shadow: 0 2px 4px var(--shadow-blue-md);
  position: relative;
  min-width: 180px;
  justify-content: center;
}

.toggle-btn:hover {
  background: var(--gradient-primary-hover);
  color: var(--text-white);
  text-decoration: none;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px var(--shadow-blue-lg);
}

.toggle-btn:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--shadow-blue), 0 4px 8px var(--shadow-blue-lg);
}

.toggle-btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px var(--shadow-blue-md);
}

/* Active state for toggle buttons */
.toggle-btn.active {
  background: var(--gradient-green);
  box-shadow: 0 2px 4px var(--shadow-md);
}

.toggle-btn.active:hover {
  background: var(--gradient-green-hover);
  box-shadow: 0 4px 8px var(--shadow-md);
}

.toggle-btn .text {
  font-weight: 600;
}

/* Section state indicators with SVG arrows */
.toggle-btn::after {
  content: "";
  display: inline-block;
  width: 28px;
  height: 28px;
  margin-left: var(--space-xs);
  transition: var(--transition-fast);
  background-image: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 14.5C11.9015 14.5005 11.8038 14.4813 11.7128 14.4435C11.6218 14.4057 11.5392 14.3501 11.47 14.28L8 10.78C7.90861 10.6391 7.86719 10.4715 7.88238 10.3042C7.89756 10.1369 7.96848 9.97954 8.08376 9.85735C8.19904 9.73515 8.352 9.65519 8.51814 9.63029C8.68428 9.6054 8.85396 9.63699 9 9.72003L12 12.72L15 9.72003C15.146 9.63699 15.3157 9.6054 15.4819 9.63029C15.648 9.65519 15.801 9.73515 15.9162 9.85735C16.0315 9.97954 16.1024 10.1369 16.1176 10.3042C16.1328 10.4715 16.0914 10.6391 16 10.78L12.5 14.28C12.3675 14.4144 12.1886 14.4931 12 14.5Z' fill='white'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  transform: rotate(0deg);
}

.toggle-btn.active::after {
  transform: rotate(180deg);
}

/* Smooth hover effect for arrows */
.toggle-btn:hover::after {
  transform: scale(1.1) rotate(0deg);
}

.toggle-btn.active:hover::after {
  transform: scale(1.1) rotate(180deg);
}

/* Collapsible Sections */
.collapsible-section {
  margin: var(--space-xl) 0;
  opacity: 1;
  max-height: none;
  overflow: visible;
  transition: all 0.3s ease;
}

.collapsible-section.hidden {
  opacity: 0;
  max-height: 0;
  overflow: hidden;
  margin: 0;
  padding: 0;
  transform: translateY(-10px);
}

/* Smooth reveal animation */
.collapsible-section.revealing {
  animation: slideDown 0.3s ease forwards;
}

.collapsible-section.hiding {
  animation: slideUp 0.3s ease forwards;
}

@keyframes slideDown {
  from {
    opacity: 0;
    max-height: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    max-height: 2000px;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 1;
    max-height: 2000px;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    max-height: 0;
    transform: translateY(-10px);
  }
}

/* Enhanced form container styling for collapsible sections */
.collapsible-section .license-form-container,
.collapsible-section .card {
  border: 2px solid var(--border-primary);
  border-radius: var(--radius-lg);
  background: var(--bg-primary);
  box-shadow: 0 4px 12px var(--shadow-sm);
  transition: var(--transition-fast);
  position: relative;
}

.collapsible-section .license-form-container:hover,
.collapsible-section .card:hover {
  border-color: var(--border-focus);
  box-shadow: 0 6px 16px var(--shadow-md);
}

/* Add a subtle indicator for collapsible sections */
.collapsible-section .license-form-container::before,
.collapsible-section .card::before {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  height: 4px;
  background: var(--gradient-primary);
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  opacity: 0.8;
}

/* Section headers within collapsible areas */
.collapsible-section h2 {
  color: var(--text-primary);
  border-bottom: 2px solid var(--border-primary);
  padding-bottom: var(--space-md);
  margin-bottom: var(--space-xl);
}

/* Status indicators */
.section-status {
  font-size: 12px;
  font-weight: 500;
  padding: 2px var(--space-sm);
  border-radius: 4px;
  margin-left: var(--space-sm);
}

.section-status.visible {
  background: var(--green-light);
  color: var(--green-text);
}

.section-status.hidden {
  background: var(--gray-200);
  color: var(--text-muted);
}

/* Responsive design for toggle buttons */
@media (max-width: 768px) {
  .section-toggles {
    flex-direction: column;
    gap: var(--space-sm);
  }

  .toggle-btn {
    width: 100%;
    min-width: auto;
  }

  .collapsible-section {
    margin: var(--space-lg) 0;
  }
}

/* Focus management for accessibility */
.toggle-btn:focus-visible {
  outline: 2px solid var(--primary-blue);
  outline-offset: 2px;
}

/* Page-specific overflow control for license management page */
.toplevel_page_top-up-agent-dashboard,
.top-up-agent_page_top-up-agent-license-keys {
  overflow-x: hidden !important;
}

/* Wrap content to prevent horizontal overflow */
.wrap {
  overflow-x: hidden;
  max-width: 100%;
}

/* Ensure tables and containers don't cause horizontal scroll */
.license-table-container,
.search-filter-panel,
.export-panel {
  overflow-x: auto;
  max-width: 100%;
}

/* Statistics Grid */
.license-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin: 20px 0;
}

.stat-card {
  background: white;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  gap: 16px;
  border-left: 4px solid;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stat-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Stat Card Color Variants */
.stat-total {
  border-left-color: var(--primary-blue);
}

.stat-available {
  border-left-color: var(--green);
}

.stat-used {
  border-left-color: var(--red);
}

.stat-group {
  border-left-color: var(--purple);
}

.stat-recent {
  border-left-color: var(--orange);
}

.stat-icon {
  font-size: 32px;
  opacity: 0.8;
}

.stat-number {
  font-size: 32px;
  font-weight: bold;
  line-height: 1;
  margin-bottom: 4px;
}

.stat-label {
  font-size: 14px;
  color: var(--text-muted);
  font-weight: 500;
}

/* Modern Toggle Checkbox */

input[type="checkbox"]:checked::before {
  margin: 0;
}
.checkbox-wrapper-41 {
  --size: 50px;
  display: inline-block;
}

.checkbox-wrapper-41 input[type="checkbox"] {
  -webkit-appearance: none;
  width: var(--size);
  height: calc(var(--size) / 2);
  background-color: #e5e7eb;
  border: 2px solid #d1d5db;
  border-radius: 30px 100px 100px 100px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  outline: none;
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
  vertical-align: middle;
}

.checkbox-wrapper-41 input[type="checkbox"]::before {
  content: "";
  position: absolute;
  width: calc(var(--size) / 2);
  height: calc(var(--size) / 2);
  left: 0;
  top: 50%;
  transform: translateY(-50%) scale(0.8);
  border: 2px solid #6b7280;
  border-radius: 30px 100px 100px 100px;
  background-color: #ffffff;
  box-sizing: border-box;
  transition: all 0.3s ease;
}

.checkbox-wrapper-41 input[type="checkbox"]:hover {
  border-color: #3b82f6;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.checkbox-wrapper-41 input[type="checkbox"]:checked {
  background-color: #3b82f6;
  border-color: #2563eb;
  border-radius: 100px 100px 30px 100px;
}

.checkbox-wrapper-41 input[type="checkbox"]:checked::before {
  left: 50%;
  background-color: #ffffff;
  border-color: #3b82f6;
  border-radius: 100px 100px 30px 100px;
}

.checkbox-wrapper-41 input[type="checkbox"]:focus {
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

/* Checkbox Label Integration */
.checkbox-wrapper-41 + label,
label[for="is_group_product"] {
  margin-left: 8px;
  font-weight: 500;
  color: #374151;
  font-size: 14px;
  cursor: pointer;
  user-select: none;
  vertical-align: middle;
}

.checkbox-wrapper-41 + label:hover,
label[for="is_group_product"]:hover {
  color: #1f2937;
}

.selection {
  display: flex;
  width: 100%;
  flex-direction: column;
}

/* Panel Containers */
.search-filter-panel {
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  clear: both;
  overflow: hidden;
}

.search-filter-panel::after {
  content: "";
  display: table;
  clear: both;
}

.search-filter-panel h3 {
  margin: 0 0 20px 0;
  font-size: 18px;
  color: var(--text-primary);
}

.export-panel,
.license-table-container {
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.export-panel h3,
.table-header h3 {
  margin: 0 0 20px 0;
  font-size: 18px;
  color: #1f2937;
}

/* Filter Form */
.filter-form {
  margin-bottom: 20px;
}

.filter-grid,
.license-manager-filters .filter-grid {
  display: grid !important;
  grid-template-columns: 2fr 1fr 1.5fr auto !important;
  gap: 20px !important;
  align-items: end !important;
  background: #f8fafc !important;
  padding: 20px !important;
  border-radius: 12px !important;
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  float: none !important;
  width: 100% !important;
  margin: 0 !important;
}

.filter-group,
.license-manager-filters .filter-group {
  position: relative !important;
  float: none !important;
  width: auto !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  box-sizing: border-box !important;
  grid-column: auto !important;
  grid-row: auto !important;
}

.filter-group label {
  display: block !important;
  font-weight: 600 !important;
  margin-bottom: 8px !important;
  color: #374151 !important;
  font-size: 13px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
}

/* Form Controls */
.filter-input,
.filter-select {
  width: 100% !important;
  padding: 12px 16px !important;
  border: 2px solid #e5e7eb !important;
  border-radius: 8px !important;
  font-size: 14px !important;
  transition: all 0.2s ease !important;
  background: white !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  margin: 0 !important;
}

.filter-input:focus,
.filter-select:focus {
  outline: none !important;
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  transform: translateY(-1px) !important;
}

.filter-input::placeholder {
  color: #9ca3af !important;
  font-style: italic !important;
}

/* Button System */
.filter-actions {
  display: flex !important;
  gap: 8px !important;
  flex-direction: column !important;
}

.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
  text-align: center;
  transition: all 0.2s ease;
  font-size: 14px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.btn-primary {
  background: var(--gradient-primary);
  color: var(--text-white);
  border: 2px solid transparent;
}

.btn-primary:hover {
  background: var(--gradient-primary-hover);
  color: var(--text-white);
  text-decoration: none;
}

.btn-secondary {
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border: 2px solid var(--border-primary);
}

.btn-secondary:hover {
  background: var(--bg-tertiary);
  border-color: var(--border-secondary);
  color: var(--text-primary);
  text-decoration: none;
}

/* Filter-specific button styling */
.filter-actions .btn {
  width: 100%;
  font-size: 13px;
  padding: 10px 16px;
}

.filter-actions .btn-primary {
  background: var(--gradient-green);
  border-color: var(--green);
}

.filter-actions .btn-primary:hover {
  background: var(--gradient-green-hover);
}

.btn-export {
  background: var(--green);
  color: var(--text-white);
  margin-right: 10px;
}

.btn-export:hover {
  background: var(--green-dark);
}

/* Active Filters */
.active-filters {
  padding: 16px;
  background: #f0f9ff;
  border-radius: 8px;
  margin-top: 16px;
}

.filter-tag {
  display: inline-block;
  background: white;
  padding: 4px 12px;
  border-radius: 20px;
  margin: 0 8px 8px 0;
  border: 1px solid #e5e7eb;
  font-size: 12px;
}

.results-info {
  color: #3b82f6;
  font-weight: 600;
  margin-left: 8px;
}

/* Export Buttons */
.export-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Table Styles */
.responsive-table {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.license-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 16px;
}

.license-table th {
  background: #f9fafb;
  padding: 16px 12px;
  text-align: left;
  font-weight: 600;
  color: #374151;
  border-bottom: 2px solid #e5e7eb;
}

.license-table td {
  padding: 16px 12px;
  border-bottom: 1px solid #e5e7eb;
  vertical-align: top;
}

.license-row:hover {
  background: #f9fafb;
}

/* License Key Display */
.license-key-display {
  display: flex;
  align-items: center;
  gap: 8px;
}

.license-key-display code {
  background: #f3f4f6;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  font-family: monospace;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.copy-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  opacity: 0.7;
}

.copy-btn:hover {
  opacity: 1;
  background: #f3f4f6;
}

/* Product Lists */
.product-list {
  font-size: 12px;
  color: #6b7280;
}

.all-products {
  font-style: italic;
  color: #9ca3af;
  font-size: 12px;
}

/* Badges */
.type-badge {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
  text-align: center;
  line-height: 1.2;
}

.type-group {
  background: #ede9fe;
  color: #7c3aed;
}

.type-single {
  background: #f3f4f6;
  color: #6b7280;
}

.status-badge {
  display: inline-block;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
}

.status-available {
  background: #d1fae5;
  color: #065f46;
}

.status-used {
  background: #fee2e2;
  color: #991b1b;
}

/* Date Information */
.dates-info {
  font-size: 12px;
  line-height: 1.4;
}

.created-date {
  color: #6b7280;
}

.used-date {
  color: #ef4444;
  margin-top: 4px;
}

/* Action Buttons */
.action-buttons {
  display: flex;
  gap: 6px;
}

.btn-edit {
  background: var(--orange);
  color: var(--text-white);
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  text-decoration: none;
  font-size: 12px;
}

.btn-edit:hover {
  background: var(--orange-dark);
  color: var(--text-white);
  text-decoration: none;
}

.btn-delete {
  background: var(--red);
  color: var(--text-white);
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  border: none;
  cursor: pointer;
  font-size: 12px;
}

.btn-delete:hover {
  background: var(--red-dark);
}

/* Pagination */
.pagination-wrapper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid #e5e7eb;
}

.pagination-info {
  color: #6b7280;
  font-size: 14px;
}

.pagination-controls {
  display: flex;
  gap: 12px;
  align-items: center;
}

.btn-pagination {
  background: #f3f4f6;
  color: #374151;
  padding: 8px 16px;
  border-radius: 6px;
  text-decoration: none;
  font-size: 14px;
}

.btn-pagination:hover {
  background: #e5e7eb;
  text-decoration: none;
}

.pagination-current {
  color: #6b7280;
  font-weight: 600;
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #6b7280;
}

.empty-icon {
  font-size: 64px;
  margin-bottom: 16px;
  opacity: 0.5;
}

.empty-state h3 {
  margin: 0 0 8px 0;
  color: #374151;
}

.empty-state p {
  margin: 0 0 20px 0;
}

/* Table Container */
.license-table-container {
  border: 1px solid #e5e7eb;
}

.table-header {
  border-bottom: 1px solid #e5e7eb;
  padding-bottom: 16px;
  margin-bottom: 0;
}

/* Form Sections Transitions */
#single_license_key_section,
#group_settings,
#multiple_keys_section {
  transition: opacity 0.3s ease, height 0.3s ease;
}

#single_license_key_section.hidden,
#group_settings.hidden,
#multiple_keys_section.hidden {
  opacity: 0;
  height: 0;
  overflow: hidden;
  margin: 0;
  padding: 0;
}

/* Select2 Enhanced Styling */
.select2-container {
  width: 100% !important;
}

.select2-container--default .select2-selection--multiple {
  border: 2px solid #e5e7eb !important;
  border-radius: 8px !important;
  min-height: 44px !important;
  padding: 8px 45px 8px 8px !important;
  background: white !important;
}

.select2-container--default .select2-selection--single {
  border: 2px solid #e5e7eb !important;
  border-radius: 8px !important;
  height: 44px !important;
  background: white !important;
}

.select2-container--default
  .select2-selection--single
  .select2-selection__rendered {
  line-height: 40px !important;
  padding-left: 12px !important;
  color: #374151 !important;
}

.select2-container--default
  .select2-selection--single
  .select2-selection__arrow {
  height: 40px !important;
  right: 8px !important;
}

.select2-container--default.select2-container--focus
  .select2-selection--multiple,
.select2-container--default.select2-container--focus
  .select2-selection--single {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 1px #3b82f6 !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__rendered {
  padding: 0 !important;
  margin: 0 !important;
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 6px !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice {
  background: linear-gradient(135deg, #3b82f6, #1d4ed8) !important;
  border: none !important;
  border-radius: 8px !important;
  padding: 16px 18px !important;
  margin: 0px !important;
  font-size: 12px !important;
  color: white !important;
  width: 100% !important;
  white-space: nowrap !important;
  display: inline-flex;
  align-items: center !important;
  gap: 6px !important;
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3) !important;
  transition: all 0.2s ease !important;
  position: relative !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice:hover {
  background: linear-gradient(135deg, #2563eb, #1e40af) !important;
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4) !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice__display {
  color: white !important;
  font-weight: 500 !important;
  font-size: 11px !important;
  line-height: 1.3 !important;
}

.select2-dropdown--above::after {
  bottom: 0 !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__rendered
  li {
  margin: 0 !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice__remove {
  background: rgba(255, 255, 255, 0.2) !important;
  border: none !important;
  color: white !important;
  font-size: 12px !important;
  padding-bottom: 2px !important;
  padding: 0px;
  margin: 2px 0 0 2px !important;
  width: 20px !important;
  height: 18px !important;
  display: flex !important
;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  flex-shrink: 0 !important;
}

.select2-selection__choice {
  display: -webkit-box !important;
  -webkit-line-clamp: 3; /* number of lines to show */
  -webkit-box-orient: vertical;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice__remove:hover {
  background: #ff0000 !important;
  color: white !important;
}

/* Apply text limit to Select2 choice display when needed */
.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice__display.text-limit {
  width: 200px !important;
  display: inline-block !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-search--inline
  .select2-search__field {
  border: none !important;
  outline: none !important;
  font-size: 14px !important;
  padding: 4px !important;
  margin: 0 !important;
  min-width: 100px !important;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__clear {
  background: #ef4444 !important;
  height: 29px;
  width: 32px;
  display: flex;
  margin: 0px !important;
  border-radius: 125% !important;
  color: white !important;
  border: none !important;
  padding-bottom: 3px !important;
  font-size: 17px !important;
  font-weight: 600 !important;
  cursor: pointer !important;
  position: absolute !important;
  right: 8px !important;
  top: 8px !important;
  justify-content: center;
  align-items: center;
}

.select2-container--default
  .select2-selection--multiple
  .select2-selection__clear:hover {
  background: #dc2626 !important;
}

/* Filter Dropdown Special Styling */
.filter-group .select2-container--default .select2-selection--single {
  height: 44px !important;
  background: #f9fafb !important;
  border: 2px solid #e5e7eb !important;
}

.filter-group .select2-container--default .select2-selection--single:hover {
  border-color: #d1d5db !important;
}

.filter-group
  .select2-container--default.select2-container--focus
  .select2-selection--single {
  background: white !important;
  border-color: #3b82f6 !important;
}

.filter-group
  .select2-container--default
  .select2-selection--single
  .select2-selection__rendered {
  color: #374151 !important;
  font-weight: 500 !important;
}

.filter-group
  .select2-container--default
  .select2-selection--single
  .select2-selection__placeholder {
  color: #9ca3af !important;
}

/* Select2 Dropdown */
.select2-dropdown {
  border: 2px solid #e5e7eb !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
  max-height: 300px !important;
  overflow-y: auto !important;
}

.select2-results {
  max-height: 250px !important;
  overflow-y: auto !important;
}

.select2-results__options {
  max-height: 250px !important;
  overflow-y: auto !important;
}

/* Custom dropdown classes for different Select2 instances */
.select2-dropdown-custom {
  max-height: 350px !important;
}

.select2-dropdown-custom .select2-results {
  max-height: 300px !important;
}

.select2-dropdown-filter {
  max-height: 250px !important;
}

.select2-dropdown-filter .select2-results {
  max-height: 200px !important;
}

/* Improve scrollbar styling */
.select2-results::-webkit-scrollbar {
  width: 6px;
}

.select2-results::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}

.select2-results::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 3px;
}

.select2-results::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}

/* CSS Text Truncation for Select2 Options */
.select2-container--default .select2-results__option {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Text truncation for selected items */
.select2-container--default
  .select2-selection--multiple
  .select2-selection__choice__display {
  max-width: 200px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
}

.select2-container--default
  .select2-selection--single
  .select2-selection__rendered {
  max-width: calc(100% - 40px);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Text truncation for dropdown results */
.select2-dropdown .select2-results__option span {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: block;
}

/* Specific widths for different dropdown types */
.select2-dropdown-custom .select2-results__option {
  max-width: 350px;
}

.select2-dropdown-filter .select2-results__option {
  max-width: 250px;
}

.select2-container--default .select2-results__option {
  padding: 8px 12px !important;
  font-size: 13px !important;
  border-bottom: 1px solid #f3f4f6 !important;
}

.select2-container--default .select2-results__option--highlighted {
  background: #eff6ff !important;
  color: #1e40af !important;
}

.select2-container--default .select2-results__option[aria-selected="true"] {
  background: #dbeafe !important;
  color: #1e40af !important;
  font-weight: 600 !important;
}

.select2-container--default .select2-search--dropdown .select2-search__field {
  border: 1px solid #d1d5db !important;
  border-radius: 6px !important;
  padding: 8px 12px !important;
  font-size: 14px !important;
}

.select2-container--default
  .select2-search--dropdown
  .select2-search__field:focus {
  border-color: #3b82f6 !important;
  outline: none !important;
  box-shadow: 0 0 0 1px #3b82f6 !important;
}

.select2-container--default .select2-results__message {
  padding: 16px !important;
  text-align: center !important;
  color: #6b7280 !important;
  font-style: italic !important;
}

/* Mobile Responsive Design */
@media (max-width: 480px) {
  /* Statistics Grid - Single Column */
  .license-stats-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }

  .stat-card {
    padding: 16px !important;
  }

  .stat-icon {
    font-size: 24px !important;
  }

  .stat-number {
    font-size: 24px !important;
  }

  /* Filter Grid - Stack Vertically */
  .filter-grid,
  .license-manager-filters .filter-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
    padding: 16px !important;
  }

  .filter-actions {
    flex-direction: column !important;
    gap: 12px !important;
  }

  .filter-actions .btn {
    width: 100% !important;
  }

  /* Table Improvements */
  .license-table th,
  .license-table td {
    padding: 8px 6px !important;
    font-size: 12px !important;
  }

  .license-key-display code {
    max-width: 100px !important;
    font-size: 10px !important;
  }

  /* Action Buttons Stack */
  .action-buttons {
    flex-direction: column !important;
    gap: 4px !important;
  }

  .btn-edit,
  .btn-delete {
    font-size: 10px !important;
    padding: 6px 8px !important;
  }

  /* Pagination Stack */
  .pagination-wrapper {
    flex-direction: column !important;
    gap: 12px !important;
    text-align: center !important;
  }

  .pagination-controls {
    justify-content: center !important;
    flex-wrap: wrap !important;
  }
}

@media (max-width: 640px) {
  /* Export Buttons Stack */
  .export-buttons {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .btn-export {
    width: 100% !important;
  }

  /* Card Padding Adjustments */
  .search-filter-panel,
  .export-panel,
  .license-table-container {
    padding: 16px !important;
    margin: 16px 0 !important;
  }
}

@media (max-width: 768px) {
  /* Filter Grid Responsive */
  .filter-grid,
  .license-manager-filters .filter-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
    padding: 16px !important;
  }

  .filter-actions {
    flex-direction: row !important;
    gap: 12px !important;
  }

  .filter-actions .btn {
    width: auto !important;
    flex: 1 !important;
  }

  .license-stats-grid {
    grid-template-columns: 1fr 1fr !important;
  }

  .export-buttons {
    flex-direction: column !important;
  }

  .license-table th,
  .license-table td {
    padding: 12px 8px !important;
    font-size: 12px !important;
  }

  .pagination-wrapper {
    flex-direction: column !important;
    gap: 16px !important;
  }

  /* Touch Targets */
  .btn {
    min-height: 44px !important;
    padding: 12px 16px !important;
  }

  .filter-input,
  .filter-select {
    min-height: 44px !important;
    font-size: 16px !important; /* Prevents zoom on iOS */
  }

  .copy-btn {
    min-width: 44px !important;
    min-height: 44px !important;
  }

  /* Select2 Mobile */
  .select2-container--default .select2-selection--single,
  .select2-container--default .select2-selection--multiple {
    min-height: 44px !important;
    font-size: 16px !important;
  }

  .select2-container--default
    .select2-selection--single
    .select2-selection__rendered {
    line-height: 40px !important;
    font-size: 16px !important;
  }

  .select2-container--default
    .select2-selection--multiple
    .select2-selection__choice {
    max-width: 150px !important;
    font-size: 11px !important;
    padding: 3px 6px !important;
  }

  .select2-container--default
    .select2-selection--multiple
    .select2-selection__choice__display {
    max-width: 120px !important;
  }
}

@media (max-width: 900px) {
  /* Horizontal Scroll for Tables */
  .responsive-table {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .license-table {
    min-width: 800px !important;
  }
}

@media (max-width: 1024px) {
  /* Tablet Layout */
  .filter-grid,
  .license-manager-filters .filter-grid {
    grid-template-columns: 1fr 1fr !important;
    gap: 16px !important;
  }

  .filter-actions {
    grid-column: 1 / -1 !important;
    flex-direction: row !important;
    justify-content: center !important;
  }

  .license-stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* ========================================
   FORM STYLES
   ======================================== */

.license-form-container {
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.license-form-container h2 {
  margin: 0 0 24px 0;
  color: #1f2937;
  font-size: 20px;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 24px;
}

.form-group.full-width {
  grid-column: 1 / -1;
}

/* Auto full-width for product assignment when single license section is hidden */
#single_license_key_section[style*="display: none"]
  ~ .form-group:has(#selected_products),
#single_license_key_section[style*="display:none"]
  ~ .form-group:has(#selected_products),
.form-grid:has(#single_license_key_section[style*="display: none"])
  .form-group:has(#selected_products) {
  grid-column: 1 / -1 !important;
}

/* Only make products section full width when single license section is hidden */
.form-grid:has(#single_license_key_section[style*="display: none"])
  .form-group:has(#selected_products),
.form-grid:has(#single_license_key_section[style*="display:none"])
  .form-group:has(#selected_products) {
  grid-column: 1 / -1 !important;
}

/* JavaScript-triggered class for when group mode is active (single license hidden) */
.form-grid.single-license-hidden .form-group:has(#selected_products),
.form-grid.single-license-hidden .form-group:has(#edit_selected_products),
.form-grid.single-license-hidden .form-group:has(#bulk_selected_products) {
  grid-column: 1 / -1 !important;
}

.form-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 8px;
  color: #374151;
}

.form-input,
.form-select {
  width: 100%;
  padding: 10px 12px;
  background: var(--bg-secondary) !important;
  border: 2px solid var(--border-primary) !important;
  border-radius: var(--radius-md) !important;
  font-size: 14px;
  transition: var(--transition-fast);
}

.form-textarea {
  width: 100%;
  padding: 10px 12px;
  border: 2px solid var(--border-primary);
  border-radius: var(--radius-md);
  font-size: 14px;
  transition: var(--transition-fast);
  font-family: "Courier New", monospace;
  line-height: 1.5;
  resize: vertical;
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
  outline: none;
  border-color: var(--border-focus) !important;
  box-shadow: 0 0 0 3px var(--shadow-blue) !important;
}

.form-help {
  margin: 6px 0 0 0;
  font-size: 12px;
  color: var(--text-muted);
}

/* Modern Option Selector */
.modern-options {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin: 8px 0;
}

.modern-option {
  position: relative;
}

.modern-option input[type="radio"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.modern-option label {
  display: inline-block;
  padding: 12px 20px;
  background: #f8fafc;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.2s ease;
  user-select: none;
  text-align: center;
  min-width: 60px;
}

.modern-option label:hover {
  background: #f1f5f9;
  border-color: #3b82f6;
  color: #374151;
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.modern-option input[type="radio"]:checked + label {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  border-color: #2563eb;
  color: white;
  font-weight: 600;
  box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
}

.modern-option input[type="radio"]:checked + label:hover {
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
  transform: translateY(-1px);
  box-shadow: 0 6px 12px rgba(59, 130, 246, 0.4);
}

.modern-option input[type="radio"]:focus + label {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
}

/* Disabled state */
.modern-option input[type="radio"]:disabled + label {
  opacity: 0.5;
  cursor: not-allowed;
  background: #f9fafb;
  color: #9ca3af;
}

.modern-option input[type="radio"]:disabled + label:hover {
  transform: none;
  box-shadow: none;
  border-color: #e5e7eb;
}

.group-name-display {
  background: #f8fafc;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  padding: 12px 16px;
  font-size: 14px;
  color: #374151;
  font-weight: 500;
  min-height: 20px;
  line-height: 1.4;
  word-break: break-word;
}

.group-name-display:empty:before {
  content: "Group name will be generated automatically";
  color: #9ca3af;
  font-style: italic;
}

.form-actions {
  display: flex;
  gap: 12px;
}

/* Form responsive design */
@media (max-width: 768px) {
  .form-grid {
    grid-template-columns: 1fr;
  }

  .license-form-container {
    padding: 16px;
    margin: 16px 0;
  }

  .form-actions {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    text-align: center;
  }
}

/* Print Styles */
@media print {
  .action-buttons,
  .btn,
  .filter-actions,
  .export-buttons,
  .pagination-wrapper,
  .search-filter-panel {
    display: none !important;
  }

  .license-table {
    border: 1px solid #000 !important;
    font-size: 10px !important;
  }

  .license-table th,
  .license-table td {
    border: 1px solid #000 !important;
    padding: 4px !important;
  }
}

/* ===== AUTOMATION SETTINGS SECTION ===== */
/* Modern Automation Settings Card Styling */
.card {
  width: 100% !important;
  max-width: 100% !important;
  background: white;
  border-radius: 12px;
  padding: 24px;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  border: 1px solid #e5e7eb;
  transition: box-shadow 0.2s ease;
}

.card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.card h2 {
  margin: 0 0 24px 0;
  font-size: 20px;
  font-weight: 700;
  color: #1f2937;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 12px;
}

.card h3 {
  margin: 0 0 16px 0;
  font-size: 16px;
  font-weight: 600;
  color: #374151;
}

/* Automation Form Styling */
.card form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Submit Button Modern Styling */
.card .submit {
  margin: 0;
  padding: 0;
}

.card .button-primary,
.card input[type="submit"] {
  background: var(--gradient-primary) !important;
  color: var(--text-white) !important;
  border: 2px solid transparent !important;
  border-radius: var(--radius-md) !important;
  padding: 10px 28px !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  cursor: pointer !important;
  text-decoration: none !important;
  display: inline-block !important;
  text-align: center !important;
  transition: var(--transition-fast) !important;
  box-shadow: 0 2px 4px var(--shadow-blue-md) !important;
  text-shadow: none !important;
  min-width: 160px;
}

.card .button-primary:hover,
.card input[type="submit"]:hover {
  background: var(--gradient-primary-hover) !important;
  color: var(--text-white) !important;
  text-decoration: none !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 8px var(--shadow-blue-lg) !important;
}

.card .button-primary:focus,
.card input[type="submit"]:focus {
  outline: none !important;
  box-shadow: 0 0 0 3px var(--shadow-blue), 0 4px 8px var(--shadow-blue-lg) !important;
}

.card .button-primary:active,
.card input[type="submit"]:active {
  transform: translateY(0) !important;
  box-shadow: 0 2px 4px var(--shadow-blue-md) !important;
}

/* Responsive Design for Automation Settings */
@media (max-width: 768px) {
  .card {
    padding: 16px;
    margin: 10px 0;
  }

  .card h2 {
    font-size: 18px;
    margin-bottom: 16px;
  }

  .card .select2-selection--multiple {
    min-height: 80px !important;
  }

  .card .button-primary,
  .card input[type="submit"] {
    width: 100%;
    padding: 12px 24px !important;
  }
}
